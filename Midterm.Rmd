# **E-commerce Business Transaction Analysis**

---
title: "E-commerce Business Transaction Analysis"
author: "Varshith Reddy Bhimireddy"
date: "02/23/24"
# date: "`r Sys.Date()`"
output:
  html_document:
    code_folding: hide
    number_sections: false
    toc: yes
    toc_depth: 3
    toc_float: yes
  pdf_document:
    toc: yes
    toc_depth: '3'
---

```{r init, include=FALSE}
# some of common options (and the defaults) are: 
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right', 
library(ezids)
knitr::opts_chunk$set(warning = F, results = "markup", message = F)
#knitr::opts_chunk$set(warning = F, results = "hide", message = F)
options(scientific=T, digits = 3) 
# options(scipen=9, digits = 3) 
# ‘scipen’: integer. A penalty to be applied when deciding to print numeric values in fixed or exponential notation.  Positive values bias towards fixed and negative towards scientific notation: fixed notation will be preferred unless it is more than ‘scipen’ digits wider.
# use scipen=999 to prevent scientific notation at all times
```

## Loading the dataset

```{r}
# Reading the dataset

data = read.csv("Sales_Transaction.csv")

# Structure of the dataset

str(data)

```

## Summary of the dataset

```{r}
# Before Cleaning the Data

summary(data)
```

#### Summary:

1.  Dataset contain **536350** entries of row and **8** columns.
2.  Column 'Date' should be 'Date' format for better analysis.
3.  Column 'Quantity' contain negative value.
4.  The 'CustomerNo' column has some missing values.
5.  In TransactionNo column, some value have letter "C" in the first string. That mean **CANCELLATION.**

## Data Cleaning

#### Remove NA Values:

```{r}
# Remove rows with NA in dataset

data <- na.omit(data)

```

#### Removing Duplicate Values:

```{r}
# check for Duplicate Rows

sum(duplicated(data))

# Remove duplicate rows

library(dplyr)

data <- data %>% distinct()

# Checking for number of duplicated rows.

sum(duplicated(data))

```

```{r}
# Removing rows where 'TransactionNo' starts with 'C'

data <- data[!grepl("^C", data$TransactionNo),]

# Remove rows where 'Quantity' is less than 0

data <- data[data$Quantity >=0,]


```

```{r}
# Converts date strings to Date objects

data$Date <- as.Date(data$Date, format = "%m/%d/%Y")

# Convert character variables to factors

data$Country <- as.factor(data$Country)

```

#### Creating Features:

```{r}
# Make a column Revenue

data$Revenue <- data$Price * data$Quantity

library(lubridate)

# Day of the Week

data$DayofWeek <- wday(data$Date , label = TRUE)

# Make a Month column

data$Month <- month(data$Date, label=TRUE)

```

#### Summary of the Cleaned Dataset:

```{r}
# After cleaned the dataset

summary(data)
```

```{r}
# Structure of the dataset

str(data)
```
